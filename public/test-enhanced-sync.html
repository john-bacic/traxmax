<!DOCTYPE html>
<html>
<head>
    <title>Enhanced Sync Test</title>
</head>
<body>
    <h1>Enhanced Sync Test</h1>
    <p>This page tests the enhanced Supabase sync functionality.</p>
    
    <button onclick="testSync()">Test Manual Sync</button>
    <button onclick="testAutoSync()">Test Auto Sync</button>
    
    <div id="output"></div>
    
    <script type="module">
        // Import the enhanced script with cache busting
        import('./lotto-enhanced/enhanced-script.js?t=' + Date.now()).then(() => {
            console.log('✅ Enhanced script loaded!')
            document.getElementById('output').innerHTML = '<p>✅ Enhanced script loaded! Check console for functions.</p>'
        }).catch(error => {
            console.error('❌ Failed to load enhanced script:', error)
            document.getElementById('output').innerHTML = '<p>❌ Failed to load enhanced script</p>'
        })
        
        window.testSync = function() {
            if (window.enhancedLotto && window.enhancedLotto.manualSyncToSupabase) {
                window.enhancedLotto.manualSyncToSupabase()
                    .then(() => {
                        document.getElementById('output').innerHTML += '<p>✅ Manual sync completed</p>'
                    })
                    .catch(error => {
                        document.getElementById('output').innerHTML += '<p>❌ Manual sync failed: ' + error + '</p>'
                    })
            } else {
                document.getElementById('output').innerHTML += '<p>❌ Enhanced lotto not available</p>'
            }
        }
        
        window.testAutoSync = function() {
            if (window.enhancedLotto && window.enhancedLotto.forceSyncLatest) {
                window.enhancedLotto.forceSyncLatest()
                    .then(() => {
                        document.getElementById('output').innerHTML += '<p>✅ Auto sync completed</p>'
                    })
                    .catch(error => {
                        document.getElementById('output').innerHTML += '<p>❌ Auto sync failed: ' + error + '</p>'
                    })
            } else {
                document.getElementById('output').innerHTML += '<p>❌ Enhanced lotto not available</p>'
            }
        }
    </script>
</body>
</html> 